<x-layouts.default>
	<x-card.page>
		<div class="top flex justify-between items-center">
			<h1 class="text-3xl uppercase font-extrabold">Shopping Cart</h1>
			<div class="actions flex space-x-2 items-center">
				<button class="back btn btn-secondary">Back</button>
			</div>
		</div>
		<div class="divider"></div>
		<div class="container grid grid-cols-1 md:grid-cols-3 gap-4 ">
			<div class="left col-span-2 cart-table flex flex-col justify-center space-y-2">
				<div>
					<button id="cart-upd" class="btn btn-primary">Update Cart</button>
				</div>
				<div class="container overflow-x-auto">
					<table class="table table-xs lg:table-auto">
						<!-- head -->
						<thead>
							<tr>
								<th>
								</th>
								<th>Product</th>
								<th>Unit Price</th>
								<th>Qty</th>
								<th>Total</th>
								<th></th>
							</tr>
						</thead>
						<tbody id="cart-body">

						</tbody>


					</table>
				</div>
			</div>

			<div class="right info-container py-4 lg:px-12 ">

				<div class="container max-md border p-2 lg:p-8 rounded shadow-xl">
					{{-- Subtotal --}}
					<div class="flex justify-between items-center">
						<div class="text-sm text-gray-600">Subtotal</div>
						<div class="text-sm font-bold">PHP <span id="subtotal">0.00</span></div>
					</div>

					{{-- Shipping --}}
					<div class="flex justify-between items-center">
						<div class="text-sm text-gray-600">Shipping</div>
						<div class="text-sm font-bold">TBC</div>
					</div>

					{{-- Subtotal --}}
					<div class="flex justify-between items-center">
						<div class="text-sm text-gray-600">Total</div>
						<div class="text-sm font-bold">PHP <span id="total">0.00</span></div>
					</div>
					<div class="divider"></div>

					{{-- Check Out --}}
					<div class="flex justify-center">
						<button class="btn btn-sm w-full btn-outline  btn-primary">Check Out</button>
					</div>

				</div>


			</div>


	</x-card.page>


	@push('scripts')
		<script>
			$(document).ready(function() {
				// remove item
				$('.cart-item-rm').on('click', function() {
					Swal.fire({
						title: 'Are you sure?',
						text: "You won't be able to revert this!",
						icon: 'warning',
						showCancelButton: true,
						confirmButtonColor: '#3085d6',
						cancelButtonColor: '#d33',
						confirmButtonText: 'Yes, delete it!'
					}).then((result) => {
						if (result.isConfirmed) {
							Swal.fire(
								'Deleted!',
								'Your file has been deleted.',
								'success'
							)
							// $(this).closest('tr').remove();

						}
					})
				});

				// update total
				$('.item_qty').on('change', function() {
					let qty = $(this).val();
					let price = $('#price').text();
					let total = qty * price;
					$('#unit_total').text(total);
				});

				$('#cart-upd').on('click', function() {
					Swal.fire({
						title: 'Cart Updated!',
						text: "Your cart has been updated.",
						icon: 'success',
						confirmButtonColor: '#3085d6',
					})
				});



			})
		</script>
	@endpush
</x-layouts.default>
